<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><script type=text/javascript src=//pl16811434.highcpmrevenuenetwork.com/a9/3a/ae/a93aae05ef8189322f739e43754a240d.js></script><title>Amd Fidelityfx Super Resolution The Digital Foundry Interview | gamestrex</title><meta name=keywords content><meta name=description content="To set the scene, what we&rsquo;ve traditionally defined as &lsquo;smart upscalers&rsquo; have all had one thing in common: the use of prior frames as a reference for improving the quality of the next one to render. All of the effort the GPU has spent in generating a previous image, working in combination with motion vectors that inform the game of where those pixels will end up in the future, allows for extra detail to be injected into a freshly rendered frame."><meta name=author content="Summer Hutchinson"><link rel=canonical href=https://gamestrex.github.io/posts/amd-fidelityfx-super-resolution-the-digital-foundry-interview/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://gamestrex.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://gamestrex.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://gamestrex.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://gamestrex.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://gamestrex.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Amd Fidelityfx Super Resolution  The Digital Foundry Interview"><meta property="og:description" content="To set the scene, what we&rsquo;ve traditionally defined as &lsquo;smart upscalers&rsquo; have all had one thing in common: the use of prior frames as a reference for improving the quality of the next one to render. All of the effort the GPU has spent in generating a previous image, working in combination with motion vectors that inform the game of where those pixels will end up in the future, allows for extra detail to be injected into a freshly rendered frame."><meta property="og:type" content="article"><meta property="og:url" content="https://gamestrex.github.io/posts/amd-fidelityfx-super-resolution-the-digital-foundry-interview/"><meta property="og:image" content="https://gamestrex.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-28T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-28T00:00:00+00:00"><meta property="og:site_name" content="gamestrex"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://gamestrex.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Amd Fidelityfx Super Resolution  The Digital Foundry Interview"><meta name=twitter:description content="To set the scene, what we&rsquo;ve traditionally defined as &lsquo;smart upscalers&rsquo; have all had one thing in common: the use of prior frames as a reference for improving the quality of the next one to render. All of the effort the GPU has spent in generating a previous image, working in combination with motion vectors that inform the game of where those pixels will end up in the future, allows for extra detail to be injected into a freshly rendered frame."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://gamestrex.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Amd Fidelityfx Super Resolution  The Digital Foundry Interview","item":"https://gamestrex.github.io/posts/amd-fidelityfx-super-resolution-the-digital-foundry-interview/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Amd Fidelityfx Super Resolution  The Digital Foundry Interview","name":"Amd Fidelityfx Super Resolution  The Digital Foundry Interview","description":"To set the scene, what we\u0026rsquo;ve traditionally defined as \u0026lsquo;smart upscalers\u0026rsquo; have all had one thing in common: the use of prior frames as a reference for improving the quality of the next one to render. All of the effort the GPU has spent in generating a previous image, working in combination with motion vectors that inform the game of where those pixels will end up in the future, allows for extra detail to be injected into a freshly rendered frame.","keywords":[],"articleBody":" To set the scene, what we’ve traditionally defined as ‘smart upscalers’ have all had one thing in common: the use of prior frames as a reference for improving the quality of the next one to render. All of the effort the GPU has spent in generating a previous image, working in combination with motion vectors that inform the game of where those pixels will end up in the future, allows for extra detail to be injected into a freshly rendered frame. The two key technologies to use this initially were checkerboard rendering and temporal super-sampling. These techniques what made PS4 Pro’s 4.2TF GPU capable of producing a pretty convincing 4K output and they’ve been used on all consoles by this point. Similar techniques are now found in a range of engines supported on PC too - and with an added component from machine learning, that’s how DLSS 2.x works as well, and additionally, it’s how we expect Intel’s XeSS to play out. When AMD revealed that FSR would be a spatial-only upscaling solution, we were sceptical, because rather than drawing on data from prior generated frames to increase detail, it has no visibility on data from anything other than the current frame which inevitably leads to temporal discontinuities. AMD was effectively pursuing techniques that the industry in general had basically left behind - FSR isn’t a reconstruction technology like TSSAA or checkerboarding, rather an upscaling one. However, there is more to it than upscaling alone: it is augmented with the ability to detect and refine edges and to mitigate the aliasing artefacts that would otherwise result - and that’s what makes it intriguing. Then there is the philosophical angle too. Nvidia DLSS is closed source - a black box for developers, if you like, and only capable of running on ML-equipped cards. Intel XeSS aims to be more open but certainly to begin with, there’s no source access. AMD’s FSR is the direct opposite: the source code is fully open and as it’s a fully software-driven technique and it should run just fine on any modern GPU, whether it’s sitting in a PC or a console. This has led to a wide range of support arriving very quickly, with unexpected ‘homebrew’ support added to various emulators, and even implementation in brand-new console games, such as Myst and (we suspect!) Arkane Studios’ Deathloop. All of which leads into this interview with Nick Thibieroz, Director of Game Engineering at AMD. We wanted to know more about why AMD chose to go against the grain with a spatial approach to upscaling, how FSR fits into a FidelityFX ecosystem that already includes another beneficial technology for upscaling (CAS), why it hasn’t mirrored the approach of Nvidia and Intel in embracing machine learning and what best practises there are for developers in getting the best out of the technology. Also, what of the future? FSR is in a 1.0 state, improvements are surely in the pipeline, so what should we expect? Digital Foundry: Can you give us an initial overview on AMD’s objectives for FSR and how you settled specifically on expanding on your existing work with spatial upscaling? Nick Thibieroz: The goals we set ourselves for our first upscaling solution were certainly ambitious, and we tried to include as many benefits into the same solution as we could. I would say the three major features we identified as key were: cross-platform support, a great quality/performance balance, and being open source. Being cross-platform allows as many players as possible to benefit from the technology, without being restricted to a given generation of graphics cards, GPU vendor or specific hardware platform. We felt this goal was especially important given the current climate around GPU availability. Of course, upscaling quality was a major focus, yet this had to be tempered against the cost of executing our solution on a GPU. Obviously, those goals are kind of counter to one another in many ways, as higher quality will typically demand expending more processing effort. Clearly, we had to go beyond the current state-of-the-art in spatial upscaling if we were to enable the technology on the broadest set of GPUs possible. Open sourcing the source code was also something I personally pushed for, as we know this is what game developers want to see. Not only does open source encourage adoption in a wider variety of contexts, it makes integration easier, allows others to learn, and unlocks the potential for the technique to be expanded or adapted to fit a developer’s specific needs. After all, the game development industry has always been about sharing knowledge! This sort of openness is really in AMD’s DNA, just look at the GPUOpen initiative, we feel it’s important for us to play our part. As the process evolved though, it became clear we had something special. So, we set ourselves another objective, which was to achieve wide and rapid adoption. Happily, it turns out that the three key objectives of FSR 1.0 - cross-platform, a great quality/performance ratio and open source - really help us achieve this goal too, which is great for gamers everywhere as it gets the technology into their hands that little bit faster! That said we knew we had to go further, and this meant including a few extras in the design which would help speed up adoption. Specifically, we provided support for engines and features that many developers are already using. This is why FSR 1.0 is available on both Unreal Engine and Unity and supports arbitrary scaling (a requirement to enable techniques like Dynamic Resolution Scaling). Considering these ambitious objectives and the breakthrough we made with our spatial upscaling algorithm, settling on a pure spatial upscaling solution for FidelityFX Super Resolution 1.0 was the natural choice. Digital Foundry: I think it’s fair to say that the general direction of travel everywhere else in the industry for upscaling has been towards temporal super-sampling - whether via software or via machine learning. It’s a journey that started to really gain traction with PS4 Pro back in 2016 and is effectively the standard in triple-A game development. I’m curious why AMD ruled it out? Nick Thibieroz: We did not rule anything out! FSR 1.0 is the result of extensive research at AMD, with multiple groups exploring different solutions using a variety of underlying upscaling technologies. Given the goals we had set out, we chose to release FSR 1.0 as we know it would appeal to a large number of developers and gamers who want to be able to enjoy high-quality gaming at faster frame rates on multiple platforms, without being limited by proprietary hardware. So, while I appreciate that the choice of a spatial upscaler surprised many, I think the results speak for themselves in terms of developer reception and adoption. In fact, it’s been impressive to see the various ways FSR has been leveraged by professionals and enthusiasts alike so far! If you solely focus on just one facet of upscaling - let’s talk image quality - then sure, I think it’s fair to say some upscaling techniques out there may provide better results (although in some cases “pixel peeping” on still images may be needed to make this claim). I think if you narrow the evaluation of upscalers to just a single criterion then your conclusion will be incomplete. FSR was designed to tick many boxes, as we’ve discussed, and it’s the combination of great features that make up the full package. Think of it like buying a new car: I don’t think anyone would solely base their purchase on how good the car looks. A smart buyer is going to consider how fast it goes, what options it provides, how smooth the driving experience is, and whether they can afford it in the first place. Digital Foundry: The buzz surrounding the announcement of FSR is that it would be an open alternative to DLSS, that an accelerant of some kind was needed with the arrival of hardware-accelerated ray tracing and its high compute requirement. RT is essentially tied to the DX12 Ultimate feature set fully supported by AMD RDNA 2, which includes machine learning - so was there a specific reason not to tap into machine learning in particular? Nick Thibieroz: I would say that we should be cautious about thinking of “Machine Learning” as a sort of magic wand which solves all problems. Of course, if it’s done right, ML can be a very powerful tool, but it’s not the only way to solve problems. In a nutshell, Machine Learning works by using a fairly brute force approach to discover the relationship between some inputs and some outputs. The process works by feeding data into an ML framework, with the goal of producing a model which encapsulates the relationship between the set of inputs and the desired outputs in the best way possible. We then take the relationship that has been discovered and apply it to inputs the model has never seen before. In some cases, ML is a no-brainer, it is the best and possibly only way to go. However, it is often possible to implement similar functionality via conventional algorithms, rather than relying on ML to discover the relationship for you. There are also trade-offs that you’re going to need to make to leverage ML, which mean it might not tick some of the other - really important - boxes for a solution. Using ML in a real-time context might mean that we lose portability, performance, and - if not done right - even some quality. If we’re being objective about ML and upscaling algorithms, I think the first iteration of NVIDIA DLSS is a good illustration of what I’m talking about here. The mere presence of ML in a solution does not imply you are going to get great results. ML clearly shows promise, and AMD is heavily investing in ML R\u0026D on a number of fronts, but just because an algorithm uses ML does not mean it’s the overall best solution given a set of goals. Digital Foundry: CAS still sits within the FidelityFX feature set - are there scenarios where AMD would recommend it above FSR, or is FSR effectively a replacement technology? Nick Thibieroz: Contrast Adaptive Sharpening (CAS) is a post-process image sharpening technology that restores detail in an image, typically in cases where Temporal Anti-Aliasing (TAA) has been applied. While CAS supports an optional upscale function, CAS by itself is not able to restore enough detail to upscaled content to deliver a close to native resolution gaming experience. Given this, we would recommend that developers who use the CAS upscaling option should replace it with FSR for much improved upscaled image quality. Games that don’t use upscaling, or that have FSR turned off in their game options, may choose to use CAS sharpening on their natively rendered image. Digital Foundry: In broad strokes, is there a series of general ‘best practise’ guidelines for developers in implementing FSR for best results? Nick Thibieroz: FidelityFX Super Resolution can be found on GPUOpen which includes integration steps and information on where to include it in the graphics pipeline. At a high-level, we recommend that FSR be implemented in perceptual space (which typically means after tone mapping), and to use MIP bias on qualifying textures to get an image closer to what native resolution rendering would look like. Some form of anti-aliasing is also required for FSR to produce a high-quality result, otherwise hard edges will be detected and rendered as such. Digital Foundry: It’s recommended to apply FSR to an anti-aliased image, but most games have various forms of anti-aliasing to choose from. Of course, results may vary on a game-by-game basis, but are there any general recommendations you can provide to users on which AA solution works best with FSR? FSR works well with most forms of AA we’ve tried: MSAA, TAA, FXAA etc. However, the quality of the underlying AA implementation is critical to the final upscaling quality produced by FSR. For example, AA techniques that don’t include additional sample information (either via straight multisampling or leveraging previous jittered frames) or do so in a suboptimal manner will show limitations in FSR upscaling quality e.g., on thin features. The best recommendation I can give for a quality FSR implementation is to ensure the underlying AA technique is also of high quality, as temporally stable as possible, and able to depict thin features in a reasonable manner. Digital Foundry: With so many games and game engines employing temporal super-sampling, does FSR have any applications as an additive to that technique - or is CAS a better fit for games that use temporal super-sampling? Nick Thibieroz: There’s been some experiments in mixing temporal techniques with FSR and some of them are even in shipped titles. Since FSR is open-source developers are free to experiment with mixing the two if they feel the results are worth it. This is one of the great benefits of the open-source approach! At the end of the day if a game already supports a quality and performant upscaling implementation that all gamers can benefit from regardless of the hardware they play on then FSR may not be needed at all, and that’s OK. Digital Foundry: On high frequency detail, we found that AMD’s current GPU scaler engine preserves more in-surface detail than FSR from the same base resolution - but FSR handles edge artifacting considerably more adeptly. Could your work with FSR roll back into your designs for your next generation GPU hardware scaler? Nick Thibieroz: A correct implementation of FSR presents many advantages compared to just applying the GPU scaler at the back-end. First of all, for the best results, FSR should be rendered at a specific part of the frame to play well with post-process operations and to ensure the color space is right. Secondly, FSR offers a built-in sharpening pass which helps recover and preserve some of the high-frequency detail, even those in polygon interiors. Thirdly, we also offer guidance as to how integrations of FSR should leverage MIP bias adjustments, which also help to get the best results possible. Given all of that, I would normally expect to see a superior visual result from a successful FSR integration compared to simply using a pure GPU scaler at the end of the frame. Regarding further applications of FSR to different contexts, I’d say we’re evaluating all options, but nothing we’re ready to talk about at this stage. Digital Foundry: FSR is in its 1.0 state, but can you share any information on where research is heading for the next iteration? Right now, the FSR algorithms are based on a 2D input from the game engine - but could FSR stand to benefit from access to depth information, or motion information? Nick Thibieroz: We plan to continue developing and/or enhancing FSR over time, and delivering on our goals of giving the best possible experiences to gamers. With multiple research efforts happening in parallel, several technological directions are being considered. I look forward to speaking with Digital Foundry again once we’re closer to announcing something. Digital Foundry: FSR’s greatest strength is that it’s software-based and effectively runs on any GPU - or at least any GPU capable of running the host game. Is this a philosophy you’re completely wedded to - or would you consider leveraging DX12 Ultimate features? This may reduce compatibility but it would still be open in the sense that the technology would not be proprietary or run on a single brand of GPU. DX12 Ultimate features include DXR 1.1, Variable Rate Shading, Mesh Shader and Sampler Feedback. At this point in time, I don’t believe any of those technologies are particularly relevant to upscaling algorithms (VRS could maybe have applications though). If you’re asking more generally about the concept of leveraging bleeding-edge GPU technologies to produce super resolution algorithms, then all I’d say right now is that our upscaling research spans many directions! Since FSR 1.0 was developed for a broad set of users and platforms there’s now a solution in place for virtually everyone, and this allows us to direct some of our focus on solutions possibly leveraging more advanced GPU functionalities or performance levels.\n","wordCount":"2704","inLanguage":"en","datePublished":"2022-12-28T00:00:00Z","dateModified":"2022-12-28T00:00:00Z","author":{"@type":"Person","name":"Summer Hutchinson"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://gamestrex.github.io/posts/amd-fidelityfx-super-resolution-the-digital-foundry-interview/"},"publisher":{"@type":"Organization","name":"gamestrex","logo":{"@type":"ImageObject","url":"https://gamestrex.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gamestrex.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://gamestrex.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gamestrex.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://gamestrex.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gamestrex.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://gamestrex.github.io/posts/>Posts</a></div><h1 class=post-title>Amd Fidelityfx Super Resolution The Digital Foundry Interview</h1><div class=post-meta><span title='2022-12-28 00:00:00 +0000 UTC'>December 28, 2022</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;2704 words&nbsp;·&nbsp;Summer Hutchinson</div></header><div class=post-content><hr><p>To set the scene, what we&rsquo;ve traditionally defined as &lsquo;smart upscalers&rsquo; have all had one thing in common: the use of prior frames as a reference for improving the quality of the next one to render. All of the effort the GPU has spent in generating a previous image, working in combination with motion vectors that inform the game of where those pixels will end up in the future, allows for extra detail to be injected into a freshly rendered frame. The two key technologies to use this initially were checkerboard rendering and temporal super-sampling. These techniques what made PS4 Pro&rsquo;s 4.2TF GPU capable of producing a pretty convincing 4K output and they&rsquo;ve been used on all consoles by this point. Similar techniques are now found in a range of engines supported on PC too - and with an added component from machine learning, that&rsquo;s how DLSS 2.x works as well, and additionally, it&rsquo;s how we expect Intel&rsquo;s XeSS to play out.
When AMD revealed that FSR would be a spatial-only upscaling solution, we were sceptical, because rather than drawing on data from prior generated frames to increase detail, it has no visibility on data from anything other than the current frame which inevitably leads to temporal discontinuities. AMD was effectively pursuing techniques that the industry in general had basically left behind - FSR isn&rsquo;t a reconstruction technology like TSSAA or checkerboarding, rather an upscaling one. However, there is more to it than upscaling alone: it is augmented with the ability to detect and refine edges and to mitigate the aliasing artefacts that would otherwise result - and that&rsquo;s what makes it intriguing. Then there is the philosophical angle too. Nvidia DLSS is closed source - a black box for developers, if you like, and only capable of running on ML-equipped cards. Intel XeSS aims to be more open but certainly to begin with, there&rsquo;s no source access.
AMD&rsquo;s FSR is the direct opposite: the source code is fully open and as it&rsquo;s a fully software-driven technique and it should run just fine on any modern GPU, whether it&rsquo;s sitting in a PC or a console. This has led to a wide range of support arriving very quickly, with unexpected &lsquo;homebrew&rsquo; support added to various emulators, and even implementation in brand-new console games, such as Myst and (we suspect!) Arkane Studios&rsquo; Deathloop.
All of which leads into this interview with Nick Thibieroz, Director of Game Engineering at AMD. We wanted to know more about why AMD chose to go against the grain with a spatial approach to upscaling, how FSR fits into a FidelityFX ecosystem that already includes another beneficial technology for upscaling (CAS), why it hasn&rsquo;t mirrored the approach of Nvidia and Intel in embracing machine learning and what best practises there are for developers in getting the best out of the technology. Also, what of the future? FSR is in a 1.0 state, improvements are surely in the pipeline, so what should we expect?
Digital Foundry: Can you give us an initial overview on AMD&rsquo;s objectives for FSR and how you settled specifically on expanding on your existing work with spatial upscaling?
Nick Thibieroz: The goals we set ourselves for our first upscaling solution were certainly ambitious, and we tried to include as many benefits into the same solution as we could. I would say the three major features we identified as key were: cross-platform support, a great quality/performance balance, and being open source.
Being cross-platform allows as many players as possible to benefit from the technology, without being restricted to a given generation of graphics cards, GPU vendor or specific hardware platform. We felt this goal was especially important given the current climate around GPU availability.
Of course, upscaling quality was a major focus, yet this had to be tempered against the cost of executing our solution on a GPU. Obviously, those goals are kind of counter to one another in many ways, as higher quality will typically demand expending more processing effort. Clearly, we had to go beyond the current state-of-the-art in spatial upscaling if we were to enable the technology on the broadest set of GPUs possible.
Open sourcing the source code was also something I personally pushed for, as we know this is what game developers want to see. Not only does open source encourage adoption in a wider variety of contexts, it makes integration easier, allows others to learn, and unlocks the potential for the technique to be expanded or adapted to fit a developer&rsquo;s specific needs. After all, the game development industry has always been about sharing knowledge! This sort of openness is really in AMD&rsquo;s DNA, just look at the GPUOpen initiative, we feel it&rsquo;s important for us to play our part.
As the process evolved though, it became clear we had something special. So, we set ourselves another objective, which was to achieve wide and rapid adoption. Happily, it turns out that the three key objectives of FSR 1.0 - cross-platform, a great quality/performance ratio and open source - really help us achieve this goal too, which is great for gamers everywhere as it gets the technology into their hands that little bit faster! That said we knew we had to go further, and this meant including a few extras in the design which would help speed up adoption. Specifically, we provided support for engines and features that many developers are already using. This is why FSR 1.0 is available on both Unreal Engine and Unity and supports arbitrary scaling (a requirement to enable techniques like Dynamic Resolution Scaling).
Considering these ambitious objectives and the breakthrough we made with our spatial upscaling algorithm, settling on a pure spatial upscaling solution for FidelityFX Super Resolution 1.0 was the natural choice.
Digital Foundry: I think it&rsquo;s fair to say that the general direction of travel everywhere else in the industry for upscaling has been towards temporal super-sampling - whether via software or via machine learning. It&rsquo;s a journey that started to really gain traction with PS4 Pro back in 2016 and is effectively the standard in triple-A game development. I&rsquo;m curious why AMD ruled it out?
Nick Thibieroz: We did not rule anything out! FSR 1.0 is the result of extensive research at AMD, with multiple groups exploring different solutions using a variety of underlying upscaling technologies. Given the goals we had set out, we chose to release FSR 1.0 as we know it would appeal to a large number of developers and gamers who want to be able to enjoy high-quality gaming at faster frame rates on multiple platforms, without being limited by proprietary hardware.
So, while I appreciate that the choice of a spatial upscaler surprised many, I think the results speak for themselves in terms of developer reception and adoption. In fact, it&rsquo;s been impressive to see the various ways FSR has been leveraged by professionals and enthusiasts alike so far!
If you solely focus on just one facet of upscaling - let&rsquo;s talk image quality - then sure, I think it&rsquo;s fair to say some upscaling techniques out there may provide better results (although in some cases &ldquo;pixel peeping&rdquo; on still images may be needed to make this claim). I think if you narrow the evaluation of upscalers to just a single criterion then your conclusion will be incomplete. FSR was designed to tick many boxes, as we&rsquo;ve discussed, and it&rsquo;s the combination of great features that make up the full package. Think of it like buying a new car: I don&rsquo;t think anyone would solely base their purchase on how good the car looks. A smart buyer is going to consider how fast it goes, what options it provides, how smooth the driving experience is, and whether they can afford it in the first place.
Digital Foundry: The buzz surrounding the announcement of FSR is that it would be an open alternative to DLSS, that an accelerant of some kind was needed with the arrival of hardware-accelerated ray tracing and its high compute requirement. RT is essentially tied to the DX12 Ultimate feature set fully supported by AMD RDNA 2, which includes machine learning - so was there a specific reason not to tap into machine learning in particular?
Nick Thibieroz: I would say that we should be cautious about thinking of &ldquo;Machine Learning&rdquo; as a sort of magic wand which solves all problems. Of course, if it&rsquo;s done right, ML can be a very powerful tool, but it&rsquo;s not the only way to solve problems. In a nutshell, Machine Learning works by using a fairly brute force approach to discover the relationship between some inputs and some outputs. The process works by feeding data into an ML framework, with the goal of producing a model which encapsulates the relationship between the set of inputs and the desired outputs in the best way possible. We then take the relationship that has been discovered and apply it to inputs the model has never seen before. In some cases, ML is a no-brainer, it is the best and possibly only way to go. However, it is often possible to implement similar functionality via conventional algorithms, rather than relying on ML to discover the relationship for you.
There are also trade-offs that you&rsquo;re going to need to make to leverage ML, which mean it might not tick some of the other - really important - boxes for a solution. Using ML in a real-time context might mean that we lose portability, performance, and - if not done right - even some quality.
If we&rsquo;re being objective about ML and upscaling algorithms, I think the first iteration of NVIDIA DLSS is a good illustration of what I&rsquo;m talking about here. The mere presence of ML in a solution does not imply you are going to get great results. ML clearly shows promise, and AMD is heavily investing in ML R&D on a number of fronts, but just because an algorithm uses ML does not mean it&rsquo;s the overall best solution given a set of goals.
Digital Foundry: CAS still sits within the FidelityFX feature set - are there scenarios where AMD would recommend it above FSR, or is FSR effectively a replacement technology?
Nick Thibieroz: Contrast Adaptive Sharpening (CAS) is a post-process image sharpening technology that restores detail in an image, typically in cases where Temporal Anti-Aliasing (TAA) has been applied. While CAS supports an optional upscale function, CAS by itself is not able to restore enough detail to upscaled content to deliver a close to native resolution gaming experience.
Given this, we would recommend that developers who use the CAS upscaling option should replace it with FSR for much improved upscaled image quality. Games that don&rsquo;t use upscaling, or that have FSR turned off in their game options, may choose to use CAS sharpening on their natively rendered image.
Digital Foundry: In broad strokes, is there a series of general &lsquo;best practise&rsquo; guidelines for developers in implementing FSR for best results?
Nick Thibieroz: FidelityFX Super Resolution can be found on GPUOpen which includes integration steps and information on where to include it in the graphics pipeline. At a high-level, we recommend that FSR be implemented in perceptual space (which typically means after tone mapping), and to use MIP bias on qualifying textures to get an image closer to what native resolution rendering would look like. Some form of anti-aliasing is also required for FSR to produce a high-quality result, otherwise hard edges will be detected and rendered as such.
Digital Foundry: It&rsquo;s recommended to apply FSR to an anti-aliased image, but most games have various forms of anti-aliasing to choose from. Of course, results may vary on a game-by-game basis, but are there any general recommendations you can provide to users on which AA solution works best with FSR?
FSR works well with most forms of AA we&rsquo;ve tried: MSAA, TAA, FXAA etc. However, the quality of the underlying AA implementation is critical to the final upscaling quality produced by FSR. For example, AA techniques that don&rsquo;t include additional sample information (either via straight multisampling or leveraging previous jittered frames) or do so in a suboptimal manner will show limitations in FSR upscaling quality e.g., on thin features.
The best recommendation I can give for a quality FSR implementation is to ensure the underlying AA technique is also of high quality, as temporally stable as possible, and able to depict thin features in a reasonable manner.
Digital Foundry: With so many games and game engines employing temporal super-sampling, does FSR have any applications as an additive to that technique - or is CAS a better fit for games that use temporal super-sampling?
Nick Thibieroz: There&rsquo;s been some experiments in mixing temporal techniques with FSR and some of them are even in shipped titles. Since FSR is open-source developers are free to experiment with mixing the two if they feel the results are worth it. This is one of the great benefits of the open-source approach!
At the end of the day if a game already supports a quality and performant upscaling implementation that all gamers can benefit from regardless of the hardware they play on then FSR may not be needed at all, and that&rsquo;s OK.
Digital Foundry: On high frequency detail, we found that AMD&rsquo;s current GPU scaler engine preserves more in-surface detail than FSR from the same base resolution - but FSR handles edge artifacting considerably more adeptly. Could your work with FSR roll back into your designs for your next generation GPU hardware scaler?
Nick Thibieroz: A correct implementation of FSR presents many advantages compared to just applying the GPU scaler at the back-end. First of all, for the best results, FSR should be rendered at a specific part of the frame to play well with post-process operations and to ensure the color space is right. Secondly, FSR offers a built-in sharpening pass which helps recover and preserve some of the high-frequency detail, even those in polygon interiors. Thirdly, we also offer guidance as to how integrations of FSR should leverage MIP bias adjustments, which also help to get the best results possible. Given all of that, I would normally expect to see a superior visual result from a successful FSR integration compared to simply using a pure GPU scaler at the end of the frame. Regarding further applications of FSR to different contexts, I&rsquo;d say we&rsquo;re evaluating all options, but nothing we&rsquo;re ready to talk about at this stage.
Digital Foundry: FSR is in its 1.0 state, but can you share any information on where research is heading for the next iteration? Right now, the FSR algorithms are based on a 2D input from the game engine - but could FSR stand to benefit from access to depth information, or motion information?
Nick Thibieroz: We plan to continue developing and/or enhancing FSR over time, and delivering on our goals of giving the best possible experiences to gamers. With multiple research efforts happening in parallel, several technological directions are being considered. I look forward to speaking with Digital Foundry again once we&rsquo;re closer to announcing something.
Digital Foundry: FSR&rsquo;s greatest strength is that it&rsquo;s software-based and effectively runs on any GPU - or at least any GPU capable of running the host game. Is this a philosophy you&rsquo;re completely wedded to - or would you consider leveraging DX12 Ultimate features? This may reduce compatibility but it would still be open in the sense that the technology would not be proprietary or run on a single brand of GPU.
DX12 Ultimate features include DXR 1.1, Variable Rate Shading, Mesh Shader and Sampler Feedback. At this point in time, I don&rsquo;t believe any of those technologies are particularly relevant to upscaling algorithms (VRS could maybe have applications though). If you&rsquo;re asking more generally about the concept of leveraging bleeding-edge GPU technologies to produce super resolution algorithms, then all I&rsquo;d say right now is that our upscaling research spans many directions! Since FSR 1.0 was developed for a broad set of users and platforms there&rsquo;s now a solution in place for virtually everyone, and this allows us to direct some of our focus on solutions possibly leveraging more advanced GPU functionalities or performance levels.</p><img loading=lazy src=https://assets.reedpopcdn.com/nick.jpg/BROK/resize/690%3E/format/jpg/quality/75/nick.jpg onerror='this.onerror=null,this.src="https://blogger.googleusercontent.com/img/a/AVvXsEhe7F7TRXHtjiKvHb5vS7DmnxvpHiDyoYyYvm1nHB3Qp2_w3BnM6A2eq4v7FYxCC9bfZt3a9vIMtAYEKUiaDQbHMg-ViyGmRIj39MLp0bGFfgfYw1Dc9q_H-T0wiTm3l0Uq42dETrN9eC8aGJ9_IORZsxST1AcLR7np1koOfcc7tnHa4S8Mwz_xD9d0=s16000"' alt="AMD FidelityFX Super Resolution  the Digital Foundry interview - 70"></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://gamestrex.github.io/posts/amazon-games-mmo-lost-ark-passes-20m-players/><span class=title>« Prev</span><br><span>Amazon Games Mmo Lost Ark Passes 20M Players</span></a>
<a class=next href=https://gamestrex.github.io/posts/american-truck-simulator-wyoming-free-download/><span class=title>Next »</span><br><span>American Truck Simulator Wyoming Free Download</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Amd Fidelityfx Super Resolution  The Digital Foundry Interview on twitter" href="https://twitter.com/intent/tweet/?text=Amd%20Fidelityfx%20Super%20Resolution%20%20The%20Digital%20Foundry%20Interview&url=https%3a%2f%2fgamestrex.github.io%2fposts%2famd-fidelityfx-super-resolution-the-digital-foundry-interview%2f&hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Amd Fidelityfx Super Resolution  The Digital Foundry Interview on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fgamestrex.github.io%2fposts%2famd-fidelityfx-super-resolution-the-digital-foundry-interview%2f&title=Amd%20Fidelityfx%20Super%20Resolution%20%20The%20Digital%20Foundry%20Interview&summary=Amd%20Fidelityfx%20Super%20Resolution%20%20The%20Digital%20Foundry%20Interview&source=https%3a%2f%2fgamestrex.github.io%2fposts%2famd-fidelityfx-super-resolution-the-digital-foundry-interview%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Amd Fidelityfx Super Resolution  The Digital Foundry Interview on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fgamestrex.github.io%2fposts%2famd-fidelityfx-super-resolution-the-digital-foundry-interview%2f&title=Amd%20Fidelityfx%20Super%20Resolution%20%20The%20Digital%20Foundry%20Interview"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Amd Fidelityfx Super Resolution  The Digital Foundry Interview on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fgamestrex.github.io%2fposts%2famd-fidelityfx-super-resolution-the-digital-foundry-interview%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Amd Fidelityfx Super Resolution  The Digital Foundry Interview on whatsapp" href="https://api.whatsapp.com/send?text=Amd%20Fidelityfx%20Super%20Resolution%20%20The%20Digital%20Foundry%20Interview%20-%20https%3a%2f%2fgamestrex.github.io%2fposts%2famd-fidelityfx-super-resolution-the-digital-foundry-interview%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Amd Fidelityfx Super Resolution  The Digital Foundry Interview on telegram" href="https://telegram.me/share/url?text=Amd%20Fidelityfx%20Super%20Resolution%20%20The%20Digital%20Foundry%20Interview&url=https%3a%2f%2fgamestrex.github.io%2fposts%2famd-fidelityfx-super-resolution-the-digital-foundry-interview%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://gamestrex.github.io/>gamestrex</a></span></footer><script type=text/javascript>var _Hasync=_Hasync||[];_Hasync.push(["Histats.start","1,4595849,4,0,0,0,00010000"]),_Hasync.push(["Histats.fasi","1"]),_Hasync.push(["Histats.track_hits",""]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//s10.histats.com/js15_as.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><noscript><a href=/ target=_blank><img src=//sstatic1.histats.com/0.gif?4595849&101 alt border=0></a></noscript><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>